webpackJsonp([52],{H5om:function(s,a,t){s.exports=t("e1ct")},e1ct:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("p",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000006876041"}},[s._v("温故js系列（15）-原型&原型链&原型继承")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/6dd0e22ff63b"}},[s._v("JS 继承")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2011/06/designing_ideas_of_inheritance_mechanism_in_javascript.html"}},[s._v("Javascript继承机制的设计思想")])]),s._v(" "),t("h1",[s._v("一、"),t("strong",[s._v("构造函数")])]),s._v(" "),t("p",[s._v("构造函数是用来新建和初始化一个新对象的函数，任何一个函数都可以是一个构造函数，不过我们在编写上通常用首字母大写以便区分。")]),s._v(" "),t("h3",[s._v("构造函数、原型、实例的关系")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("F")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{}\n"),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" f = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" F();\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("// 构造器")]),s._v("\nF.prototype.constructor === F; "),t("span",{staticClass:"hljs-comment"},[s._v("// true")]),s._v("\nF.__proto__ === "),t("span",{staticClass:"hljs-built_in"},[s._v("Function")]),s._v(".prototype; "),t("span",{staticClass:"hljs-comment"},[s._v("// true")]),s._v("\n"),t("span",{staticClass:"hljs-built_in"},[s._v("Function")]),s._v(".prototype.__proto__ === "),t("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v(".prototype; "),t("span",{staticClass:"hljs-comment"},[s._v("// true")]),s._v("\n"),t("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v(".prototype.__proto__ === "),t("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v("; "),t("span",{staticClass:"hljs-comment"},[s._v("// true")]),s._v("\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("// 实例")]),s._v("\nf.__proto__ === F.prototype; "),t("span",{staticClass:"hljs-comment"},[s._v("// true")]),s._v("\nF.prototype.__proto__ === "),t("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v(".prototype; "),t("span",{staticClass:"hljs-comment"},[s._v("// true")]),s._v("\n"),t("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v(".prototype.__proto__ === "),t("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v("; "),t("span",{staticClass:"hljs-comment"},[s._v("// true")]),s._v("\n")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6e6e9504-25a1-4d34-96ee-8ddec21d0244/Untitled.png",alt:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6e6e9504-25a1-4d34-96ee-8ddec21d0244/Untitled.png"}})]),s._v(" "),t("h1",[s._v("二、"),t("strong",[s._v("原型链")])]),s._v(" "),t("h2",[s._v("原型")]),s._v(" "),t("p",[s._v("每个对象被创建时，js都会自动添加一个 prototype 属性，指向对象的原型。")]),s._v(" "),t("p",[s._v("原型相当于一个对象模板，是一个可以被复制的类，他定义了一些公用的属性和方法，利用原型创建出来的新对象实例会共享原型的属性和方法。")]),s._v(" "),t("h2",[t("strong",[s._v("原型链")])]),s._v(" "),t("p",[s._v("在JavaScript中每个对象都有一个"),t("strong",[s._v("指向他的原型内部对象的内部链接（"),t("strong",[s._v("proto")]),s._v("）")]),s._v("，每个原型对象又有自己的原型，直到某个对象的原型为null为止(Object.proptotype.__proto__指向的是null)，组成这条链的最后一环。这种关系被称为原型链(prototype chain)，通过原型链一个对象可以拥有定义在其他对象中的属性和方法。")]),s._v(" "),t("p",[s._v("原型对象主要作用主要是用于"),t("strong",[s._v("继承")]),s._v("。")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v(".prototype.__proto__ === "),t("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v("\n"),t("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v("是一个构造函数，他的prototype指向原型，他这个原型看做一个实例，那它的__proto__最终指向"),t("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v("\n")])]),s._v(" "),t("h2",[s._v("prototype和__proto__")]),s._v(" "),t("p",[s._v("函数的原型prototype：函数才有prototype，prototype是一个对象，指向了当前构造函数的引用地址\n函数的原型对象__proto__：所有对象都有__proto__属性， 当用构造函数实例化（new）一个对象时，会将新对象的__proto__属性指向 构造函数的prototype")]),s._v(" "),t("p",[s._v("也就是说，构造函数的prototype和构造函数生成的实例的__proto__指向的都是构造函数的原型。")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("prototype 和 proto 区别是什么")]),s._v("？")]),s._v(" "),t("p",[s._v("1）prototype是构造函数的属性")]),s._v(" "),t("p",[s._v("2）"),t("code",[s._v("__proto__")]),s._v("是每个实例都有的属性，可以访问 [[prototype]] 属性")]),s._v(" "),t("p",[s._v("3）实例的"),t("code",[s._v("__proto__")]),s._v("与其构造函数的prototype指向的是同一个对象")])])]),s._v(" "),t("h2",[s._v("函数的变量和内部函数")]),s._v(" "),t("h3",[s._v("1、"),t("strong",[s._v("私有变量和内部函数")])]),s._v(" "),t("p",[s._v("私有成员，即定义函数内部的变量或函数，外部无法访问。如果要访问，需要对外提供接口。")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("Xzavier")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" name = "),t("span",{staticClass:"hljs-string"},[s._v('"xzavier"')]),s._v("; "),t("span",{staticClass:"hljs-comment"},[s._v("//私有变量")]),s._v("\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" sports = "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),t("span",{staticClass:"hljs-string"},[s._v("'basketball'")]),s._v(")}; "),t("span",{staticClass:"hljs-comment"},[s._v("//私有函数")]),s._v("\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v("{\n        "),t("span",{staticClass:"hljs-attr"},[s._v("name")]),s._v(": name,\n        "),t("span",{staticClass:"hljs-attr"},[s._v("sports")]),s._v(": sports\n    }\n}\n"),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" x = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Xzavier();\nx.name;  "),t("span",{staticClass:"hljs-comment"},[s._v('//"xzavier"')]),s._v("\n")])]),s._v(" "),t("h3",[s._v("2、静态变量和内部函数")]),s._v(" "),t("p",[s._v("用点操作符定义的静态变量和内部函数就是实例不能访问到的变量和内部函数。只能通过自身去访问。")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("Xzavier")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n    Xzavier.name = "),t("span",{staticClass:"hljs-string"},[s._v('"xzavier"')]),s._v("; "),t("span",{staticClass:"hljs-comment"},[s._v("//静态变量")]),s._v("\n    Xzavier.sports = "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),t("span",{staticClass:"hljs-string"},[s._v("'basketball'")]),s._v(")}; "),t("span",{staticClass:"hljs-comment"},[s._v("//静态函数 ")]),s._v("\n}\nXzavier.name; "),t("span",{staticClass:"hljs-comment"},[s._v('//"xzavier"')]),s._v("\n"),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" x = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Xzavier();\nx.name;  "),t("span",{staticClass:"hljs-comment"},[s._v("//undefined")]),s._v("\n")])]),s._v(" "),t("h3",[s._v("3、"),t("strong",[s._v("实例变量和内部函数")])]),s._v(" "),t("p",[s._v("通过this定义给实例使用的属性和方法。")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[s._v("functionXzavier(){\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name = "),t("span",{staticClass:"hljs-string"},[s._v('"xzavier"')]),s._v(";"),t("span",{staticClass:"hljs-comment"},[s._v("//实例变量")]),s._v("\n\t\t"),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".sports ="),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),t("span",{staticClass:"hljs-string"},[s._v("'basketball'")]),s._v(");};"),t("span",{staticClass:"hljs-comment"},[s._v("//实例函数")]),s._v("\n}\nXzavier.name;"),t("span",{staticClass:"hljs-comment"},[s._v("//undefined")]),s._v("\n"),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" x ="),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Xzavier();\nx.name;"),t("span",{staticClass:"hljs-comment"},[s._v('//"xzavier"')]),s._v("\n")])]),s._v(" "),t("h3",[t("strong",[s._v("原型链继承")])]),s._v(" "),t("p",[s._v("有了原型链，就可以借助原型链实现继承。")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[s._v("X.prototype = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Xzavier(); \n"),t("span",{staticClass:"hljs-comment"},[s._v("// 以上这样产生一个Xzavier的实例，同时赋值给X的原型，也即X.prototype相当于对象")]),s._v("\n"),t("span",{staticClass:"hljs-comment"},[s._v("// 但是在X中没有constructor属性，只能从原型链找到Xzavier.prototype")]),s._v("\nX.prototype.constructor = X;\n"),t("span",{staticClass:"hljs-comment"},[s._v("// 这是X的原型就多了个属性constructor，指向X。这样就OK。")]),s._v("\n")])]),s._v(" "),t("h3",[t("strong",[s._v("**proto")]),s._v("**，prototype")]),s._v(" "),t("p",[s._v("__proto__是对象的内置属性，是每个对象都有的属性，但是这个属性使用不标准，所以不建议直接使用。但是，我们的原型链就是基于 __proto__的。通过构造函数得到的实例的 "),t("strong",[s._v("proto")]),s._v(" 属性，指向其对应的原型对象 String.prototype")]),s._v(" "),t("p",[s._v("prototype是每个函数对象都具有的属性，指向原型对象，如果原型对象被添加属性和方法，那么由应的构造函数创建的实例会继承prototype上的属性和方法，这也是我们在代码中经常遇到的。构造函数产生实例时，实例通过其对应原型对象的 constructor 访问对应的构造函数对象。所以，我们继承出来的实例往往没有constructor，只是通过原型链查找")]),s._v(" "),t("h1",[s._v("三、继承")]),s._v(" "),t("p",[s._v("通"),t("strong",[s._v("过原型链一个对象可以拥有定义在其他对象中的属性和方法，这个叫做继承")]),s._v("，他有很多具体的实现方式。")]),s._v(" "),t("h2",[s._v("实现继承的几种方式")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/37735247"}},[s._v("js继承的几种方式")])]),s._v(" "),t("p",[s._v("以下罗列最基础和常见的几种：")]),s._v(" "),t("ol",[t("li",[s._v("原型链继承")]),s._v(" "),t("li",[s._v("寄生组合式继承")]),s._v(" "),t("li",[s._v("es6中的extend class")])]),s._v(" "),t("h3",[t("strong",[s._v("1.原型链继承")])]),s._v(" "),t("p",[s._v("父类的实例作为子类的原型")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("People")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".color = ["),t("span",{staticClass:"hljs-string"},[s._v("'red'")]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v("'yellow'")]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v("'black'")]),s._v("],\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name = "),t("span",{staticClass:"hljs-string"},[s._v("'aaa'")]),s._v("\n }\n"),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("Woman")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n}\nWoman.prototype= "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" People();\n"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" womanObj = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Woman();\n\n")])]),s._v(" "),t("p",[t("strong",[s._v("优点：")])]),s._v(" "),t("p",[s._v("简单易于实现，父类的新增的实例与属性子类都能访问")]),s._v(" "),t("p",[t("strong",[s._v("缺点：")])]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("实例之间会共享引用类型的值")])])]),s._v(" "),t("li",[t("p",[s._v("创建子类实例时，不能向父类构造函数中传参数")])])]),s._v(" "),t("p",[s._v("如下，通过一个实例，修改父类的引用类型值，其他实例会受到影响")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("People")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".color = ["),t("span",{staticClass:"hljs-string"},[s._v("'red'")]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v("'yellow'")]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v("'black'")]),s._v("],\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name = "),t("span",{staticClass:"hljs-string"},[s._v("'aaa'")]),s._v("\n }\n"),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("Woman")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n}\nWoman.prototype= "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" People();\n"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" Pea = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" People()\n"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" womanObj1 = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Woman();\n"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" womanObj2 = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Woman();\n\nwomanObj1.color["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("] = "),t("span",{staticClass:"hljs-string"},[s._v("'xiaxia'")]),s._v(";\nwomanObj1.name = "),t("span",{staticClass:"hljs-string"},[s._v("'ceshi'")]),s._v(";\n\n"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(Pea.color["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("], Pea.name); "),t("span",{staticClass:"hljs-comment"},[s._v("// yellow aaa")]),s._v("\n"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(womanObj1.color["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("],womanObj1.name); "),t("span",{staticClass:"hljs-comment"},[s._v("// xiaxia ceshi")]),s._v("\n"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(womanObj2.color["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("],womanObj2.name); "),t("span",{staticClass:"hljs-comment"},[s._v("// xiaxia aaa")]),s._v("\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("//不同实例会共享引用类型的值 instance1.__proto__.color")]),s._v("\n  "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(instance1.__proto__.color===instance2.__proto__.color) "),t("span",{staticClass:"hljs-comment"},[s._v("//true")]),s._v("\n")])]),s._v(" "),t("h3",[s._v("2、寄生组合式继承")]),s._v(" "),t("p",[s._v("原理：通过借用构造函数来继承属性（apply），通过原型链的混成形式来继承方法（Object.create）")]),s._v(" "),t("p",[s._v("通过寄生组合式继承方式，实例之间互不影响，还可以向父类传参、")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-comment"},[s._v("//父类")]),s._v("\n"),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("People")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("name,age")]),s._v(")")]),s._v("{\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".color = ["),t("span",{staticClass:"hljs-string"},[s._v("'red'")]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v("'yellow'")]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v("'black'")]),s._v("],\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name = name || "),t("span",{staticClass:"hljs-string"},[s._v("'wangxiao'")]),s._v("\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".age = age || "),t("span",{staticClass:"hljs-number"},[s._v("27")]),s._v("\n}\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("//父类方法")]),s._v("\nPeople.prototype.eat = "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name + "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".age + "),t("span",{staticClass:"hljs-string"},[s._v("'eat sleep'")]),s._v("\n}\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("//子类")]),s._v("\n"),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("Woman")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("name,age")]),s._v(")")]),s._v("{\n  "),t("span",{staticClass:"hljs-comment"},[s._v("//继承父类属性")]),s._v("\n  People.call("),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(",name,age)\n}\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("//继承父类方法")]),s._v("\n("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n  "),t("span",{staticClass:"hljs-comment"},[s._v("// 创建空类")]),s._v("\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" Super = "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{};\n  Super.prototype = People.prototype;\n  "),t("span",{staticClass:"hljs-comment"},[s._v("//父类的实例作为子类的原型")]),s._v("\n  Woman.prototype = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Super();\n})();\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("//修复构造函数指向问题")]),s._v("\nWoman.prototype.constructor = Woman;\n"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" womanObj = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Woman();\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("// 测试实例问题")]),s._v("\n"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" womanObj1 = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Woman();\n"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" womanObj2 = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Woman();\nwomanObj1.color["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("] = "),t("span",{staticClass:"hljs-string"},[s._v("'xiaxia'")]),s._v(";\n"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(womanObj1.color["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("], womanObj2.color["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("])\n")])]),s._v(" "),t("p",[s._v("或")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-comment"},[s._v("// 寄生组合继承")]),s._v("\n  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("inheritPrototype")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("Sub,Super")]),s._v(")")]),s._v("{ "),t("span",{staticClass:"hljs-comment"},[s._v("// 入参是子类和父类构造函数")]),s._v("\n    "),t("span",{staticClass:"hljs-comment"},[s._v("//subPrototype.__proto__=Super.prototype")]),s._v("\n\t\t"),t("span",{staticClass:"hljs-comment"},[s._v("// 创建一个介质对象，他的原型指向父类原型")]),s._v("\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" subPrototype="),t("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v(".create(Super.prototype)\n    "),t("span",{staticClass:"hljs-comment"},[s._v("// 他的构造函数指向子类构造函数")]),s._v("\n    subPrototype.constructor=Sub\n    "),t("span",{staticClass:"hljs-comment"},[s._v("//相当于subPrototype有__proto__和constructor两个属性，指向父类原型和子类构造函数")]),s._v("\n    "),t("span",{staticClass:"hljs-comment"},[s._v("//以上，即：subPrototype.__proto__ === Sub.prototype.__proto__===Super.prototype")]),s._v("\n\n    "),t("span",{staticClass:"hljs-comment"},[s._v("//Sub.prototype.constructor=Sub")]),s._v("\n    Sub.prototype=subPrototype\n    \n  }\n  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("Super")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("name")]),s._v(")")]),s._v("{\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name=name\n  }\n  Super.prototype.sayHi="),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n    "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name)"),t("span",{staticClass:"hljs-comment"},[s._v("//ccdida")]),s._v("\n  }\n  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("Sub")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("name")]),s._v(")")]),s._v("{\n    Super.call("),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(",name) "),t("span",{staticClass:"hljs-comment"},[s._v("//继承父类属性")]),s._v("\n  }\n  inheritPrototype(Sub,Super) "),t("span",{staticClass:"hljs-comment"},[s._v("//继承父类方法")]),s._v("\n\n  Sub.prototype.sayHello="),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(")")]),s._v("{\n    "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),t("span",{staticClass:"hljs-string"},[s._v("'sayHello'")]),s._v(")\n  }\n\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" instance1="),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Sub("),t("span",{staticClass:"hljs-string"},[s._v("'ccdida'")]),s._v(")\n  "),t("span",{staticClass:"hljs-comment"},[s._v("// instance1.sayHi() // ccdida")]),s._v("\n  "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(instance1.__proto__)\n  "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(instance1.__proto__.__proto__)\n")])]),s._v(" "),t("h3",[s._v("3、es6的class继承")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[t("span",{staticClass:"hljs-comment"},[s._v("//class 相当于es5中构造函数")]),s._v("\n"),t("span",{staticClass:"hljs-comment"},[s._v("//class中定义方法时，前后不能加function，全部定义在class的protopyte属性中")]),s._v("\n"),t("span",{staticClass:"hljs-comment"},[s._v("//class中定义的所有方法是不可枚举的")]),s._v("\n"),t("span",{staticClass:"hljs-comment"},[s._v("//class中只能定义方法，不能定义对象，变量等")]),s._v("\n"),t("span",{staticClass:"hljs-comment"},[s._v("//class和方法内默认都是严格模式")]),s._v("\n"),t("span",{staticClass:"hljs-comment"},[s._v("//es5中constructor为隐式属性")]),s._v("\n"),t("span",{staticClass:"hljs-class"},[t("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("People")])]),s._v("{\n  "),t("span",{staticClass:"hljs-keyword"},[s._v("constructor")]),s._v("(name='wang',age='27'){\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name = name;\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".age = age;\n  }\n  eat(){\n    "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),t("span",{staticClass:"hljs-string"},[s._v("`"),t("span",{staticClass:"hljs-subst"},[s._v("${"),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name}")]),s._v(" "),t("span",{staticClass:"hljs-subst"},[s._v("${"),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".age}")]),s._v(" eat food`")]),s._v(")\n  }\n}\n"),t("span",{staticClass:"hljs-comment"},[s._v("//继承父类")]),s._v("\n"),t("span",{staticClass:"hljs-class"},[t("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("Woman")]),s._v(" "),t("span",{staticClass:"hljs-keyword"},[s._v("extends")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("People")])]),s._v("{ \n   "),t("span",{staticClass:"hljs-keyword"},[s._v("constructor")]),s._v("(name = 'ren',age = '27'){ \n     "),t("span",{staticClass:"hljs-comment"},[s._v("//继承父类属性")]),s._v("\n     "),t("span",{staticClass:"hljs-keyword"},[s._v("super")]),s._v("(name, age); \n   } \n    eat(){ \n     "),t("span",{staticClass:"hljs-comment"},[s._v("//继承父类方法")]),s._v("\n      "),t("span",{staticClass:"hljs-keyword"},[s._v("super")]),s._v(".eat() \n    } \n} \n"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" wonmanObj="),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Woman("),t("span",{staticClass:"hljs-string"},[s._v("'xiaoxiami'")]),s._v("); \nwonmanObj.eat();\n")])]),s._v(" "),t("h2",[t("strong",[s._v("ES5继承和ES6继承的区别")])]),s._v(" "),t("p",[s._v("es5继承首先是在子类中创建自己的this指向，最后将方法添加到this中")]),s._v(" "),t("pre",[t("code",{staticClass:"language-jsx"},[s._v("Child.prototype="),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Parent() || Parent.apply("),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(") || Parent.call("),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(")\n")])]),s._v(" "),t("p",[s._v("es6继承是使用关键字先创建父类的实例对象this，最后在子类class中修改this")]),s._v(" "),t("h2",[s._v("继承方法的演变")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000037433122"}},[s._v("js寄生组合式继承")])])])}]},_=t("VU/8")(null,n,!1,null,null,null);a.default=_.exports}});
//# sourceMappingURL=52.198ddd56cc55dda9bb8f.js.map